 
<process name="TestStateWorkFlow" targetNamespace="http://BusinessProcessDiagram1" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xmlns:Pool="http://mypool" xmlns:tns="http://BusinessProcessDiagram1" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <partnerLinks>
   	    <partnerLink name="CommonState" partnerLinkType="lns:CommonState" myRole="EmployeeRole" partnerRole="EmployeeParterRole" />
        <partnerLink name="ManageState" partnerLinkType="lns:ManageState" myRole="ManageRole" partnerRole="ManageParterRole" />
		<partnerLink name="DoneState" partnerLinkType="lns:DoneState" myRole="DoneRole" partnerRole="DoneParterRole" />
        <partnerLink name="RefuseState" partnerLinkType="lns:RefuseState" myRole="RefuseRole" partnerRole="RefuseParterRole"     </partnerLinks>
    <variables>
        <variable messageType="Pool:Message" name="Variable"/>
    </variables>
    <sequence>
            
		<invoke name="Common" partnerLink="CommonState" portType="FamActivityServiceSoap" operation="DetermineIfDifferentDrive" inputVariable="OriginalRequestMessage"  <switch name="EmployeeAction">
            <case condition="Sumbit">
                <sequence>
                    <empty name="Manage"/>
                </sequence>
            </case>
            <case condition="Save">
                <sequence>
                    <empty name="Common"/>
                </sequence>
            </case>
			<case condition="Revoke">
                <sequence>
                    <empty name="Common"/>
                </sequence>
            </case>
         <!-- <otherwise>
                <sequence>
                    <empty name="Task4"/>
                </sequence>
            </otherwise>
	     -->
        </switch>
        <empty name="Manage"/>
		<switch nainvoke name="Manage" partnerLink="ManageState" portType="FamActivityServiceSoap" operation="DetermineIfDifferentDrive" inputVariable="OriginalRequestMessage"             <case condition="Approve">
                <sequence>
                    <empty name="Done"/>
                </sequence>
            </case>
            <case condition="Reject">
                <sequence>
                    <empty name="Refuse"/>
                </sequence>
            </case>
		 <!-- 	<case condition="Revoke">
                <sequence>
                    <empty name="Common"/>
                </sequence>
            </case>
            <otherwise>
                <sequence>
                    <empty name="Task4"/>
                </sequence>
            </otherwise>
	     -->
        </switch>
		<empty name="Done"/>
		<empty name="Refuse"/>
        <replinvoke name="Done" partnerLink="DoneState" portType="FamActivityServiceSoap" operation="DetermineIfDifferentDrive" inputVariable="OriginalRequestMessage" />
		<invoke name="Refuse" partnerLink="RefuseState" portType="FamActivityServiceSoap" operation="DetermineIfDifferentDrive" inputVariable="OriginalRequestMessage" />
 Type="Pool:ProviderPortType" variable="Variable"/>
    </sequence>
</process>